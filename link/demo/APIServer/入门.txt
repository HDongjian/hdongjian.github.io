
(): 指注释


一、准备工作

    1.安装express
        npm install express -g
        npm install express-generator -g

    2.初始化项目
        express APIServer(项目名称)
        cd APIServer && npm install

二、启动服务器
    npm start
    启动完成后终端将输出 node ./bin/www
    在浏览器中访问 http://localhost:3000/

三、基本使用
    定义一个路由的基本格式为：
    app.METHOD(PATH, HANDLER)

    想要实现一个获取用户信息接口该怎么写呢？(获取url参数 依赖于url模块)
    /routers/user.js
        function User() {
              this.name;
              this.city;
              this.age;
        }
        module.exports = User;

    /routers/users.js
        var User = require('./user');
        var URL = require('url');
        router.get('/getUserInfo', function(req, res, next) {
            var user = new User();
            var params = URL.parse(req.url, true).query;
            if(params.id == '1') {
                user.name = "ligh";
                user.age = "1";
                user.city = "北京市";
            }else{
                user.name = "SPTING";
                user.age = "1";
                user.city = "杭州市";
            }
            var response = {status:1,data:user};
            res.send(JSON.stringify(response));
        });

        调用方式（可在浏览器打开）
        http://localhost:3000/users/getUserInfo?id=1
        http://localhost:3000/users/getUserInfo?id=2

四、Post请求额外处理
    1.引用body-parser中间件
        var bodyParser = require('body-parser')
        app.use(bodyParser.json());
        app.use(bodyParser.urlencoded({ extended: false }));
    2.允许跨域
        app.use(function(req, res, next) {
            res.header("Access-Control-Allow-Origin", "*");
            res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");
            next();
        });




